{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h1>Список всех игр</h1>
    <a href="{% url 'game_create' %}" class="btn btn-success mb-3">Добавить игру</a>
    <ul class="list-group">
        {% for game in games %}
            <li class="list-group-item d-flex align-items-center">
                {% if game.cover_image %}
                    <img src="{{ game.cover_image.url }}" alt="cover" class="me-3" style="height:32px;width:26px;object-fit:cover;border-radius:4px;">
                {% else %}
                    <img src="https://via.placeholder.com/26x32?text=No+Image" alt="no cover" class="me-3" style="height:32px;width:26px;object-fit:cover;border-radius:4px;">
                {% endif %}
                <strong>
                  <a href="{% url 'game_detail' game.id %}">{{ game.title }}</a>
                </strong>
                <span class="ms-2 text-muted">{{ game.genre.name }}</span>
                <span class="badge bg-info text-dark ms-2">{{ game.developer.name }}</span>
                <a href="{% url 'game_edit' game.id %}" class="btn btn-primary btn-sm ms-auto me-2">Редактировать</a>
                <a href="{% url 'game_delete' game.id %}" class="btn btn-danger btn-sm">Удалить</a>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
